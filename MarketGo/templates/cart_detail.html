


{% extends 'base.html'%}
{% load static %}
{% block content%}



{% if cart %}


{% for item in cart %}
</br></br>
<div class="col-8 card mb-3" style="max-width: 540px; left: 75px;">
</br>
    <div class="row g-0" >
        <div class="col-md-4">
            {% if item.product.image %}
            <img src="{{ item.product.image.url }}" alt="{{ item.product.name }}" class="img-fluid" height="200" width="200" >
            {% endif %}
        </div>
        <div class="col-md-8">
        <div class="card-body">
        <h5 class="card-title">{{ item.product.name }}</h5>
        </br>


        <div class="container">
            <div class="row">
                
               
            <!-- Force next columns to break to new line -->
            <div class="w-100"></div>
          
              
              <div class="col-6 col-m-3">Unit_Price</div>
              <div class="col-6 col-m-3">{{ item.price}} dh</div>
              <div class="w-100"></div>
              <div class="col-6 col-m-3">Total_Price</div>
              <div class="col-6 col-m-3">{{ item.total_price}} dh</div>
            </div>
        

    </br>


          
<!-- Update Quantity Button -->
<div class="row">
    {% if item.category == 'unit' %}
        <div class="col-12 col-md-6 mb-2">
            <form action="{% url 'cart:update_quantity' item.product.id %}" method="post" class="d-flex">
                {% csrf_token %}
                <button type="submit" name="action" value="decrease" class="btn btn-secondary">-</button>
                <span class="mx-2">{{ item.quantity }}</span>
                <button type="submit" name="action" value="increase" class="btn btn-secondary">+</button>
            </form>
        </div>
    {% endif %}
    
    <div class="col-12 col-md-6 d-grid gap-2 d-md-flex justify-content-md-end">
        <form action="{% url 'cart:cart_remove' item.product.id %}" method="POST">
            <input class="btn btn-primary me-md-2" type="submit" value="Remove">
            {% csrf_token %}
        </form>
    </div>
</div>


        


    </div>

            </div>
        </div>
    </div>
</div>



{% endfor %}

<div class="card my-4">
    <div class="card-body">
        <h5 class="card-title">Total</h5>
        <h3 class="card-text">{{ cart.get_total_price }} dh</h3>
        <div class="d-grid gap-2 d-md-flex justify-content-md-end mt-3">
            <a type="button" class="btn btn-primary btn-sm me-2" href="{% url 'product:home_view' %}">Continue Shopping</a>
            <a type="button" class="btn btn-secondary btn-sm" href="{% url 'checkout:checkout' %}">Checkout</a>
        </div>
    </div>
</div>


<!-- 
<div class="card" style="margin: 20px;"  >
    <div class="card-body" sty>
      <h5 class="card-title">Total</h5>
      <h3 class="card-text">{{cart.get_total_price}} dh</h3>
      <div class="d-grid gap-2 d-md-flex justify-content-md-end">
        <a type="button" class="btn btn-primary btn-sm" href="{% url 'product:home_view' %}">Continue Shopping</a>
        <a type="button" class="btn btn-secondary btn-sm" href="{% url 'checkout:checkout' %} "> Checkout </a>
    </div>
    
    </div>
  </div> -->


{% else %}
</br></br> 
</br></br> 

</br></br> 

</br></br> 

<center> <h1>Cart Is Empty !</h1>
    
</center>
</br></br> 
</br></br> 
</br></br> 

<p class="d-grid gap-2 d-md-flex justify-content-md-end">
    <a type="button" class="btn btn-primary btn-sm" href="{% url 'product:home_view' %} " style="margin-right: 50px;">Continue Shopping</a>

</p>

 
</br></br> 
{% endif%}
{% endblock %}

